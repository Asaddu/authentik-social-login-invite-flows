context: {}
entries:
- attrs:
    authentication: none
    denied_action: message_continue
    designation: authentication
    layout: stacked
    name: Default Authentication Flow
    policy_engine_mode: any
    title: Welcome to Authentik!
  conditions: []
  identifiers:
    pk: 16210243-9e15-4dae-8b08-649a47091452
    slug: default-authentication-flow
  model: authentik_flows.flow
  state: present
- attrs:
    field_key: username
    label: Username
    name: default-source-enrollment-field-username
    order: 100
    placeholder: Username
    required: true
    type: username
  conditions: []
  identifiers:
    pk: 047bbeb7-c1bc-41fc-8a17-c9e9f7087985
  model: authentik_stages_prompt.prompt
  state: present
- attrs:
    expression: '# Check if we''''ve not been given a username by the external IdP

      # and trigger the enrollment flow

      return ''username'' not in context.get(''prompt_data'', {})'
    name: default-source-enrollment-if-username
  conditions: []
  identifiers:
    pk: 1dbd61b1-016b-4d6f-a255-f49138005e36
  model: authentik_policies_expression.expressionpolicy
  state: present
- attrs:
    execution_logging: true
    expression: 'email = request.context["prompt_data"]["email"]

      # Direct set username to email

      request.context["prompt_data"]["username"] = email

      # Set username to email without domain

      # request.context["prompt_data"]["username"] = email.split("@")[0]

      return False'
    name: email-username-mapping-enrollment-policy
  conditions: []
  identifiers:
    pk: 64e7a904-f727-43ad-99dc-d731cda1df41
  model: authentik_policies_expression.expressionpolicy
  state: present
- attrs:
    device_classes:
    - static
    - totp
    - webauthn
    - duo
    - sms
    last_auth_threshold: seconds=0
    not_configured_action: skip
    webauthn_user_verification: preferred
  conditions: []
  identifiers:
    name: default-authentication-mfa-validation
    pk: 4b4b2a9f-5d6d-4115-b289-6fa96c53598f
  model: authentik_stages_authenticator_validate.authenticatorvalidatestage
  state: present
- attrs:
    geoip_binding: no_binding
    network_binding: no_binding
    remember_me_offset: seconds=0
    session_duration: seconds=0
  conditions: []
  identifiers:
    name: default-authentication-login
    pk: 149a034c-7e7a-4bb7-a4d4-07a17daa2725
  model: authentik_stages_user_login.userloginstage
  state: present
- attrs:
    fields:
    - 047bbeb7-c1bc-41fc-8a17-c9e9f7087985
  conditions: []
  identifiers:
    name: default-source-enrollment-prompt
    pk: 52d91f44-b7ca-4b5b-80ba-4a263959a6f4
  model: authentik_stages_prompt.promptstage
  state: present
- attrs:
    case_insensitive_matching: true
    pretend_user_exists: true
    show_matched_user: true
    sources:
    - 4d13e398-216e-4879-a666-2d17186d0c71
  conditions: []
  identifiers:
    name: source-authentication-identification
    pk: f3e6ae20-397d-47a4-b33f-f1f9d9139d01
  model: authentik_stages_identification.identificationstage
  state: present
- attrs:
    invalid_response_action: retry
    policy_engine_mode: any
    re_evaluate_policies: true
  conditions: []
  identifiers:
    order: 10
    pk: d634e37e-bb8c-447b-98e6-ba525e4aee93
    stage: f3e6ae20-397d-47a4-b33f-f1f9d9139d01
    target: 16210243-9e15-4dae-8b08-649a47091452
  model: authentik_flows.flowstagebinding
  state: present
- attrs:
    invalid_response_action: retry
    policy_engine_mode: any
    re_evaluate_policies: true
  conditions: []
  identifiers:
    order: 20
    pk: be74491b-1fd4-48d0-931e-e76cb44470c5
    stage: 52d91f44-b7ca-4b5b-80ba-4a263959a6f4
    target: 16210243-9e15-4dae-8b08-649a47091452
  model: authentik_flows.flowstagebinding
  state: present
- attrs:
    invalid_response_action: retry
    policy_engine_mode: any
    re_evaluate_policies: true
  conditions: []
  identifiers:
    order: 30
    pk: e42f46d8-937b-42b3-a045-f4fe805f3e90
    stage: 4b4b2a9f-5d6d-4115-b289-6fa96c53598f
    target: 16210243-9e15-4dae-8b08-649a47091452
  model: authentik_flows.flowstagebinding
  state: present
- attrs:
    invalid_response_action: retry
    policy_engine_mode: any
    re_evaluate_policies: true
  conditions: []
  identifiers:
    order: 100
    pk: 49e79f97-ac57-40e1-a4f1-e849b58c8af3
    stage: 149a034c-7e7a-4bb7-a4d4-07a17daa2725
    target: 16210243-9e15-4dae-8b08-649a47091452
  model: authentik_flows.flowstagebinding
  state: present
- attrs:
    enabled: true
    timeout: 30
  conditions: []
  identifiers:
    order: 0
    pk: 8b5ea04f-6586-4b16-8fdd-4ab54b333139
    policy: 64e7a904-f727-43ad-99dc-d731cda1df41
    target: be74491b-1fd4-48d0-931e-e76cb44470c5
  model: authentik_policies.policybinding
  state: present
- attrs:
    enabled: true
    timeout: 30
  conditions: []
  identifiers:
    order: 1
    pk: f9abd495-17aa-4eae-9701-db51a228887e
    policy: 1dbd61b1-016b-4d6f-a255-f49138005e36
    target: be74491b-1fd4-48d0-931e-e76cb44470c5
  model: authentik_policies.policybinding
  state: present
metadata:
  labels:
    blueprints.goauthentik.io/generated: 'true'
  name: authentik Export - 2024-09-27 17:49:19.689296+00:00
version: 1
